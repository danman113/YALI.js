parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"p8GN":[function(require,module,exports) {
function n(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function r(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function e(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}var t=function(n){return n||""},o=function(){function r(e,t,o){n(this,r),this.msg=e,this.startCoordinates=t,this.endCoordinates=o}return e(r,[{key:"toString",value:function(){return this.msg}}]),r}(),i=function r(e){n(this,r),this.value=e},a=function(n,r,e){return new o(n,r,e)},s=function(n,r){return r.type===r.EOF?new o(n,r.startCoordinates,r.endCoordinates):new o("".concat(t(r.lexeme&&'at "'.concat(r.lexeme,'": '))).concat(n),r.startCoordinates,r.endCoordinates)},c=function(n,r){return new o("".concat(t(r.lexeme&&'at "'.concat(r.lexeme,'": '))).concat(n),r.startCoordinates,r.endCoordinates)},d=function(n,r){if(n instanceof o){var e=r.lastIndexOf("\n",n.startCoordinates.index),t=e<0?0:e,i=r.substring(t,n.startCoordinates.index),a=r.substring(n.startCoordinates.index,n.endCoordinates.index),s=r.indexOf("\n",n.endCoordinates.index),c=s<0?r.length:s,d=r.substring(n.endCoordinates.index,c);return{oneLiner:"Parse Error: ".concat(n.toString()," at ").concat(n.endCoordinates.line,":").concat(n.endCoordinates.col+1),preErrorSection:i,errorSection:a,postErrorSection:d}}return{oneLiner:"Unexpected javascript Error: ".concat(n)}};module.exports={error:a,LoxError:o,ReturnError:i,runtimeError:c,parseError:s,formatLoxError:d};
},{}],"u74b":[function(require,module,exports) {
function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var i=require("./errors"),s=i.LoxError,r=function(){},o="\n  LEFT_PAREN, RIGHT_PAREN, LEFT_BRACE, RIGHT_BRACE,\n  COMMA, DOT, MINUS, PLUS, SEMICOLON, SLASH, STAR,\n\n  BANG, BANG_EQUAL,\n  EQUAL, EQUAL_EQUAL,\n  GREATER, GREATER_EQUAL,\n  LESS, LESS_EQUAL,\n\n  IDENTIFIER, STRING, NUMBER,\n\n  AND, CLASS, ELSE, FALSE, FUN, FOR, IF, NIL, OR,\n  PRINT, RETURN, SUPER, THIS, TRUE, VAR, WHILE,\n\n  EOF\n".split(",").map(function(t){return t.trim()}),h={};o.forEach(function(t,n){h[t]=n});var u={and:h.AND,class:h.CLASS,else:h.ELSE,false:h.FALSE,for:h.FOR,fun:h.FUN,if:h.IF,nil:h.NIL,or:h.OR,print:h.PRINT,return:h.RETURN,super:h.SUPER,this:h.THIS,true:h.TRUE,var:h.VAR,while:h.WHILE},c={"(":function(t){t.addToken(h.LEFT_PAREN)},")":function(t){t.addToken(h.RIGHT_PAREN)},"{":function(t){t.addToken(h.LEFT_BRACE)},"}":function(t){t.addToken(h.RIGHT_BRACE)},",":function(t){t.addToken(h.COMMA)},".":function(t){a(t.peek())?t.handleNumberLiterals():t.addToken(h.DOT)},"-":function(t){t.addToken(h.MINUS)},"+":function(t){t.addToken(h.PLUS)},";":function(t){t.addToken(h.SEMICOLON)},"/":function(t){if(t.nextMatch("/"))for(;"\n"!==t.peek()&&""!==t.peek();)t.chomp();else t.addToken(h.SLASH)},"*":function(t){t.addToken(h.STAR)},"!":function(t){t.addToken(t.nextMatch("=")?h.BANG_EQUAL:h.BANG)},"=":function(t){t.addToken(t.nextMatch("=")?h.EQUAL_EQUAL:h.EQUAL)},">":function(t){t.addToken(t.nextMatch("=")?h.GREATER_EQUAL:h.GREATER)},"<":function(t){t.addToken(t.nextMatch("=")?h.LESS_EQUAL:h.LESS)}," ":r,"\t":r,"\r":r,"\n":function(t){t.newline()},'"':function(t){t.handleStringLiterals()}},a=function(t){return/\d/.test(t)},l=function(t){return/[a-zA-Z_]/.test(t)},f=function(t){return l(t)||a(t)},d=function(){function n(e){t(this,n),this.source=e,this.length=e.length,this.tokens=[],this.startPosition=null,this.column=0,this.start=0,this.line=1,this.current=0}return e(n,null,[{key:"tokens",get:function(){return o}},{key:"tokenEnum",get:function(){return h}}]),e(n,[{key:"handleStringLiterals",value:function(){for(;'"'!==this.peek()&&""!==this.peek();)"\n"===this.peek()&&this.newline(),this.chomp();if(""===this.peek())throw new s("Unfinished string",this.startPosition,this.endPosition);this.chomp();var t=this.source.substring(this.start+1,this.current-1);this.addToken(h.STRING,t)}},{key:"handleNumberLiterals",value:function(){for(var t=!1;a(this.peek())||!t&&"."===this.peek();)"."===this.peek()&&(t=!0),this.chomp();var n=this.source.substring(this.start,this.current);this.addToken(h.NUMBER,parseFloat(n))}},{key:"handleIdentifiers",value:function(){for(;f(this.peek());)this.chomp();var t=this.source.substring(this.start,this.current);u[t]?this.addToken(u[t],t):this.addToken(h.IDENTIFIER,t)}},{key:"scanTokens",value:function(){for(;this.current<this.length;){var t=this.chomp();if(this.startPosition=new E(this.column-1,this.line,this.current-1),c[t])c[t](this);else if(a(t))this.handleNumberLiterals();else{if(!l(t))throw console.log(s),new s("Unexpected character ".concat(t),this.startPosition,new E(this.column,this.line,this.current));this.handleIdentifiers()}this.start=this.current}return this.addToken(h.EOF),this.tokens}},{key:"addToken",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=this.source.substring(this.start,this.current);this.tokens.push(new k(t,e,n,new E(this.column,this.line,this.current),this.startPosition))}},{key:"increment",value:function(){this.current++,this.column++}},{key:"newline",value:function(){this.line++,this.column=0}},{key:"chomp",value:function(){return this.increment(),this.source.charAt(this.current-1)}},{key:"peek",value:function(){return this.source.charAt(this.current)}},{key:"nextMatch",value:function(t){return this.peek()===t&&(this.increment(),!0)}},{key:"endPosition",get:function(){return new E(this.column-1,this.line,this.current)}}]),n}(),E=function n(e,i,s){t(this,n),this.col=e,this.line=i,this.index=s},k=function n(e,i,s,r,o){t(this,n),this.type=e,this.lexeme=i,this.literal=s,this.startCoordinates=o,this.endCoordinates=r};module.exports=d;
},{"./errors":"p8GN"}],"39eF":[function(require,module,exports) {
function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(n,e){return!e||"object"!==t(e)&&"function"!=typeof e?i(n):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}function r(t,n){return(r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var h=function t(n,i,e){s(this,t),this.left=n,this.operator=i,this.right=e},u=function(t){function i(){return s(this,i),n(this,e(i).apply(this,arguments))}return o(i,h),i}(),c=function t(n,i){s(this,t),this.operator=n,this.right=i},a=function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";s(this,t),this.context=i,this.value=n},f=function t(n){s(this,t),this.name=n},l=function t(n,i){s(this,t),this.object=n,this.name=i},p=function t(n,i,e){s(this,t),this.object=n,this.name=i,this.value=e},y=function t(n){s(this,t),this.expression=n},m=function(t){function i(t){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";return s(this,i),(o=n(this,e(i).call(this,t))).context=r,o}return o(i,y),i}(),b=function(t){function i(){return s(this,i),n(this,e(i).apply(this,arguments))}return o(i,y),i}(),g=function t(n,i){s(this,t),this.name=n,this.initializer=i},d=function t(n,i){s(this,t),this.name=n,this.value=i},v=function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";s(this,t),this.context=i,this.statements=n},S=function t(n,i,e){s(this,t),this.condition=n,this.thenBranch=i,this.elseBranch=e},w=function t(n,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"while";s(this,t),this.context=e,this.condition=n,this.body=i},x=function t(n,i,e){s(this,t),this.callee=n,this.paren=i,this.arguments=e},O=function t(n,i){s(this,t),this.keyword=n,this.value=i},j=function t(n,i){s(this,t),this.name=n,this.methods=i},_=function t(n,i,e){s(this,t),this.name=n,this.params=i,this.bodyStatements=e};module.exports={Var:f,Binary:h,Unary:c,Block:v,Call:x,While:w,Class:j,Get:l,Set:p,Literal:a,Return:O,Logical:u,LoxFunction:_,Grouping:y,Condition:S,ExpressionStatement:m,PrintStatement:b,VarStatement:g,Assignment:d};
},{}],"CUYV":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("./tokenizer"),r=require("./types"),s=r.Binary,a=r.Unary,h=r.Var,u=r.Call,c=r.Literal,o=r.While,l=r.Class,f=r.Get,m=r.Set,E=r.Grouping,p=r.Return,v=r.LoxFunction,y=r.PrintStatement,k=r.ExpressionStatement,R=r.VarStatement,d=r.Assignment,A=r.Logical,x=r.Block,I=r.Condition,w=require("./errors"),N=w.parseError,S=i.tokenEnum,L="function",T="method",_="forLoop",C=function(){function t(n){e(this,t),this.tokens=n,this.current=0}return n(t,[{key:"expression",value:function(){return this.assignment()}},{key:"parse",value:function(){for(var e=[];!this.isAtEnd;)e.push(this.declaration());return e}},{key:"declaration",value:function(){return this.match(S.FUN)?this.fun(L):this.match(S.CLASS)?this.classDeclaration():this.match(S.VAR)?this.varDeclaration():this.statement()}},{key:"classDeclaration",value:function(){var e=this.consume(S.IDENTIFIER,"Expected class name");this.consume(S.LEFT_BRACE,'expected "{" before class body');for(var t=[];!this.check(S.RIGHT_BRACE);)t.push(this.fun(T));return this.consume(S.RIGHT_BRACE,'expected "}" after class body'),new l(e,t)}},{key:"fun",value:function(e){var t=this.consume(S.IDENTIFIER,"Expected ".concat(e," name")),n=[];if(this.consume(S.LEFT_PAREN,"Expected paren after ".concat(e," name")),!this.check(S.RIGHT_PAREN))do{n.push(this.consume(S.IDENTIFIER,"Expected identifier"))}while(this.match(S.COMMA));this.consume(S.RIGHT_PAREN,"Expected paren after arguments"),this.consume(S.LEFT_BRACE,"Expected left brace after argument list");var i=this.block();return new v(t,n,i)}},{key:"varDeclaration",value:function(){var e=this.consume(S.IDENTIFIER,"Expected variable name"),t=null;return this.match(S.EQUAL)&&(t=this.expression()),this.consume(S.SEMICOLON,"Expect ; after value."),new R(e,t)}},{key:"statement",value:function(){return this.match(S.IF)?this.ifStatement():this.match(S.FOR)?this.forStatement():this.match(S.WHILE)?this.whileStatement():this.match(S.RETURN)?this.returnStatement():this.match(S.PRINT)?this.printStatement():this.match(S.LEFT_BRACE)?new x(this.block()):this.expressionStatement()}},{key:"returnStatement",value:function(){var e=this.previous(),t=null;return this.check(S.SEMICOLON)||(t=this.expression()),this.consume(S.SEMICOLON,'Expected ";" after return value'),new p(e,t)}},{key:"assignment",value:function(){var e=this.or();if(this.match(S.EQUAL)){var t=this.previous(),n=this.assignment();if(e instanceof h){var i=e.name;return new d(i,n)}if(e instanceof f)return new m(e.object,e.name,n);throw N("Expected Expression",t)}return e}},{key:"or",value:function(){return this.matchBinary("and",A,S.OR)}},{key:"and",value:function(){return this.matchBinary("equality",A,S.AND)}},{key:"forStatement",value:function(){var e;this.consume(S.LEFT_PAREN,'Expected "(" after "for"'),e=this.match(S.SEMICOLON)?null:this.match(S.VAR)?this.varDeclaration():this.expressionStatement();var t=null;this.check(S.SEMICOLON)||(t=this.expression()),this.consume(S.SEMICOLON,'Expected ";" after loop condition');var n=null;this.check(S.RIGHT_PAREN)||(n=this.expression()),this.consume(S.RIGHT_PAREN,'Expected ")" after for clause');var i=this.statement();return n&&(i=new x([i,new k(n,_)],_)),t||(t=new c(!0,_)),i=new o(t,i,_),e&&(i=new x([e,i],_)),i}},{key:"whileStatement",value:function(){this.consume(S.LEFT_PAREN,'Expected "(" after "while"');var e=this.expression();this.consume(S.RIGHT_PAREN,'Expected ")" after expression');var t=this.statement();return new o(e,t)}},{key:"ifStatement",value:function(){this.consume(S.LEFT_PAREN,'Expected "(" after "if"');var e=this.expression();this.consume(S.RIGHT_PAREN,'Expected ")" after expression');var t=this.statement(),n=null;return this.match(S.ELSE)&&(n=this.statement()),new I(e,t,n)}},{key:"block",value:function(){for(var e=[];!this.check(S.RIGHT_BRACE)&&!this.isAtEnd;)e.push(this.declaration());return this.consume(S.RIGHT_BRACE,'Missing closing brace. (Expect "}" after block)'),e}},{key:"expressionStatement",value:function(){var e=this.expression();return this.consume(S.SEMICOLON,"Expect ; after value."),new k(e)}},{key:"printStatement",value:function(){var e=this.expression();return this.consume(S.SEMICOLON,"Expect ; after value."),new y(e)}},{key:"matchBinary",value:function(e,t){for(var n=this[e](),i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];for(;this.match.apply(this,r);){n=new t(n,this.previous(),this[e]())}return n}},{key:"equality",value:function(){return this.matchBinary("comparison",s,S.BANG_EQUAL,S.EQUAL_EQUAL)}},{key:"comparison",value:function(){return this.matchBinary("addition",s,S.GREATER,S.GREATER_EQUAL,S.LESS,S.LESS_EQUAL)}},{key:"addition",value:function(){return this.matchBinary("multiplication",s,S.MINUS,S.PLUS)}},{key:"multiplication",value:function(){return this.matchBinary("unary",s,S.SLASH,S.STAR)}},{key:"unary",value:function(){if(this.match(S.BANG,S.MINUS)){var e=this.previous(),t=this.unary();return new a(e,t)}return this.call()}},{key:"call",value:function(){for(var e=this.primary();;)if(this.match(S.LEFT_PAREN))e=this.finishCall(e);else{if(!this.match(S.DOT))break;var t=this.consume(S.IDENTIFIER,'Expected property name after "."');e=new f(e,t)}return e}},{key:"finishCall",value:function(e){var t=[];if(!this.check(S.RIGHT_PAREN))do{t.push(this.expression())}while(this.match(S.COMMA));var n=this.consume(S.RIGHT_PAREN,"Unfinished argument list");return new u(e,n,t)}},{key:"primary",value:function(){if(this.match(S.FALSE))return new c(!1);if(this.match(S.TRUE))return new c(!0);if(this.match(S.NIL))return new c(null);if(this.match(S.NUMBER,S.STRING))return new c(this.previous().literal);if(this.match(S.IDENTIFIER))return new h(this.previous());if(this.match(S.LEFT_PAREN)){var e=this.expression();return this.consume(S.RIGHT_PAREN,"Expect ')' after expression."),new E(e)}throw console.log("primary"),N("Expected Expression",this.peek())}},{key:"consume",value:function(e,t){if(this.check(e))return this.advance();throw N(t,this.peek())}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var s=r[i];if(this.check(s))return this.advance(),!0}return!1}},{key:"check",value:function(e){return!this.isAtEnd&&this.peek().type===e}},{key:"peek",value:function(){return this.tokens[this.current]}},{key:"previous",value:function(){if(this.current<=0)throw N("Expected previous but found nothing",this.peek());return this.tokens[this.current-1]}},{key:"advance",value:function(){return this.isAtEnd||this.current++,this.previous()}},{key:"isAtEnd",get:function(){return this.peek().type===S.EOF}}]),t}();module.exports=C;
},{"./tokenizer":"u74b","./types":"39eF","./errors":"p8GN"}],"brut":[function(require,module,exports) {
function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var i=require("./errors"),a=i.runtimeError,r=function(){function n(t){e(this,n),this.map=new Map,this.enclosing=t}return t(n,[{key:"get",value:function(e){if(this.map.has(e.name.lexeme))return this.map.get(e.name.lexeme);if(this.enclosing)return this.enclosing.get(e);throw a('Undefined variable "'.concat(e.name.lexeme,'"'),e.name)}},{key:"set",value:function(e,n){if(this.map.has(e.lexeme))throw a('Duplicate variable declaration "'.concat(e.lexeme,'"'),e);return this.map.set(e.lexeme,n)}},{key:"setBuiltin",value:function(e,n){this.map.set(e,"function"==typeof n?{call:n}:n)}},{key:"assign",value:function(e,n){if(!this.map.has(e.lexeme)){if(this.enclosing)return this.enclosing.assign(e,n);throw a('Undefined variable "'.concat(e.lexeme,'"'),e)}return this.map.set(e.lexeme,n)}}]),n}();module.exports=r;
},{"./errors":"p8GN"}],"lmrS":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(e,i){return!i||"object"!==t(i)&&"function"!=typeof i?n(e):i}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var l=require("./errors"),c=l.runtimeError,v=l.ReturnError,f=require("./types"),h=f.Binary,y=f.Unary,m=f.Call,p=f.Literal,k=f.Logical,g=f.Class,S=f.Get,d=f.Set,b=f.Var,w=f.Grouping,B=f.Return,E=f.While,A=f.Block,L=f.LoxFunction,O=f.ExpressionStatement,U=f.VarStatement,_=f.PrintStatement,x=f.Assignment,C=f.Condition,G=require("./environment"),P=require("./tokenizer"),R=P.tokenEnum,j=function(t){return Boolean(t)},N=function(t,e){return t===e},T=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];if(isNaN(o))throw c("Operand must be a number!",t)}},V=function(){function t(e,n){o(this,t),this.declaration=e,this.closure=n}return u(t,[{key:"call",value:function(t,e){for(var n=new G(this.closure),i=0;i<this.declaration.params.length;i++)n.set(this.declaration.params[i],e[i]);try{t.interpretBlock(this.declaration.bodyStatements,n)}catch(r){if(r instanceof v)return r.value;throw r}return null}},{key:"toString",value:function(){return"<".concat(this.declaration.name.lexeme,"()>")}}]),t}(),M=function(t){function n(t){var r;return o(this,n),(r=e(this,i(n).call(this))).name=t,r}return r(n,V),u(n,[{key:"call",value:function(){return new Q(this)}},{key:"toString",value:function(){return"<".concat(this.name,">")}}]),n}(),Q=function(){function t(e){o(this,t),this.klass=e,this.fields=new Map}return u(t,[{key:"get",value:function(t){var e=t.lexeme;if(this.fields.has(e))return this.fields.get(e);throw c("Undefined property ".concat(e),t)}},{key:"set",value:function(t,e){var n=t.lexeme;this.fields.set(n,e)}},{key:"toString",value:function(){return"<+".concat(this.klass.name,">")}}]),t}(),q=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log;o(this,t),this.printfunction=n,this.environment=e||new G,this.environment.setBuiltin("PI",Math.PI),this.environment.setBuiltin("cos",function(t,e){return Math.cos(e[0])}),this.environment.setBuiltin("mod",function(t,e){return e[0]%e[1]}),this.environment.setBuiltin("strlen",function(t,e){return e[0].length}),this.environment.setBuiltin("charAt",function(t,e){return e[0][e[1]]}),this.environment.setBuiltin("clock",function(){return(new Date).getTime()})}return u(t,[{key:"interpret",value:function(t){return this.evaluate(t)}},{key:"evaluate",value:function(t){return t instanceof A?this.visitBlock(t):t instanceof L?this.visitFunction(t):t instanceof x?this.visitAssignment(t):t instanceof g?this.visitClass(t):t instanceof S?this.visitGet(t):t instanceof d?this.visitSet(t):t instanceof k?this.visitLogical(t):t instanceof m?this.visitCall(t):t instanceof E?this.visitWhile(t):t instanceof C?this.visitCondition(t):t instanceof U?this.visitVarStatement(t):t instanceof _?this.visitPrintStatement(t):t instanceof B?this.visitReturnStatement(t):t instanceof O?this.visitGrouping(t):t instanceof w?this.visitGrouping(t):t instanceof b?this.visitVar(t):t instanceof p?this.visitLiteral(t):t instanceof y?this.visitUnary(t):t instanceof h?this.visitBinary(t):void 0}},{key:"visitLiteral",value:function(t){return t.value}},{key:"visitGrouping",value:function(t){return this.evaluate(t.expression)}},{key:"visitPrintStatement",value:function(t){var e=this.evaluate(t.expression);return this.printfunction(null===e?"nil":e.toString()),e}},{key:"visitFunction",value:function(t){var e=new V(t,this.environment);this.environment.set(t.name,e)}},{key:"visitLogical",value:function(t){var e=this.evaluate(t.left);if(t.operator.type===R.OR){if(j(e))return e}else if(!j(e))return e;return this.evaluate(t.right)}},{key:"visitWhile",value:function(t){for(;j(this.evaluate(t.condition));)this.evaluate(t.body);return null}},{key:"visitReturnStatement",value:function(t){var e=null;throw t.value&&(e=this.evaluate(t.value)),new v(e)}},{key:"visitVar",value:function(t){return this.environment.get(t)}},{key:"visitVarStatement",value:function(t){var e=null;return null!==t.initializer&&(e=this.evaluate(t.initializer)),this.environment.set(t.name,e),null}},{key:"visitClass",value:function(t){this.environment.set(t.name,null);var e=new M(t.name.lexeme);return this.environment.assign(t.name,e),null}},{key:"visitGet",value:function(t){var e=this.evaluate(t.object);if(e instanceof Q)return e.get(t.name);throw c("Only instances have properties",t.name)}},{key:"visitSet",value:function(t){var e=this.evaluate(t.object);if(!(e instanceof Q))throw c("Only instances have fields",t.name);var n=this.evaluate(t.value);return e.set(t.name,n)}},{key:"visitBlock",value:function(t){return this.interpretBlock(t.statements,new G(this.environment)),null}},{key:"visitCondition",value:function(t){return j(this.evaluate(t.condition))?this.evaluate(t.thenBranch):t.elseBranch&&this.evaluate(t.elseBranch),null}},{key:"interpretBlock",value:function(t,e){var n=this.environment;try{this.environment=e;var i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;this.interpret(u)}}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}this.environment=n}catch(c){throw this.environment=n,c}}},{key:"visitAssignment",value:function(t){var e=this.evaluate(t.value);return this.environment.assign(t.name,e),e}},{key:"visitCall",value:function(t){var e=this,n=this.evaluate(t.callee),i=t.arguments.map(function(t){return e.evaluate(t)});if(!n.call)throw c("Can only call functions and classes",t.paren);return n.call(this,i)}},{key:"visitUnary",value:function(t){var e=this.evaluate(t.right);switch(t.operator.type){case R.MINUS:return T(t.operator,e),-e;case R.BANG:return!j(e)}}},{key:"visitBinary",value:function(t){var e=this.evaluate(t.left),n=this.evaluate(t.right);switch(t.operator.type){case R.MINUS:return T(t.operator,n,e),e-n;case R.PLUS:return e+n;case R.SLASH:return T(t.operator,n,e),e/n;case R.STAR:return T(t.operator,n,e),e*n;case R.GREATER:return T(t.operator,n,e),e>n;case R.GREATER_EQUAL:return T(t.operator,n,e),e>=n;case R.LESS:return T(t.operator,n,e),e<n;case R.LESS_EQUAL:return T(t.operator,n,e),e<=n;case R.EQUAL_EQUAL:return N(e,n);case R.BANG_EQUAL:return!N(e,n)}}}]),t}();module.exports=q;
},{"./errors":"p8GN","./types":"39eF","./environment":"brut","./tokenizer":"u74b"}],"Focm":[function(require,module,exports) {
var r=require("./tokenizer"),e=require("./parser"),n=require("./interpreter"),o=require("./environment"),t=function(o,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=new r(o).scanTokens();i&&console.log(l);var u=new e(l).parse();i&&console.log(u);var v,s=new n(t,a),c=!0,p=!1,f=void 0;try{for(var w,y=u[Symbol.iterator]();!(c=(w=y.next()).done);c=!0){var d=w.value;v=s.interpret(d)}}catch(m){p=!0,f=m}finally{try{c||null==y.return||y.return()}finally{if(p)throw f}}return v},a=function(n){var o=new r(n).scanTokens();return new e(o).parse()};module.exports={run:t,parse:a,Environment:o};
},{"./tokenizer":"u74b","./parser":"CUYV","./interpreter":"lmrS","./environment":"brut"}],"9/6S":[function(require,module,exports) {
function n(n){return r(n)||e(n)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function r(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}var o=require("../types"),a=o.Binary,i=o.Unary,c=o.Var,u=o.Call,s=o.Literal,f=o.While,l=o.Class,p=o.Get,m=o.Set,v=o.Grouping,x=o.Return,g=o.LoxFunction,h=o.PrintStatement,d=o.ExpressionStatement,y=o.VarStatement,j=o.Assignment,b=o.Logical,L=o.Block,S=o.Condition,w=new Map;w.set(d,function(n){return z(n.expression)+("forLoop"===n.context?"":";")}),w.set(h,function(n){return"print "+z(n.expression)+";"}),w.set(x,function(n){return"return "+z(n.value)+";"}),w.set(y,function(n){var t=n.name.lexeme,e=n.initializer?z(n.initializer):null;return"var ".concat(t)+(e?" = ".concat(e):"")+";"}),w.set(S,function(n,t,e){var r=n.condition,o=n.thenBranch,a=n.elseBranch,i=z(r),c="if (".concat(i,") "),u=z(o,t,e,!1),s=a&&z(a,t,e,!1);return c+u+(s?" else ".concat(s):"")}),w.set(g,function(t,e,r){var o=t.bodyStatements,a=t.name.lexeme,i=t.params.map(function(n){return n.lexeme}),c="fun ".concat(a,"(").concat(i.join(", "),") {"),u=o.map(function(n){return z(n,e+1,r)}),s=r.indent.repeat(e)+"}";return[c].concat(n(u),[s]).join("\n")});var A=function(n,t,e){var r=n.body,o=n.condition,a=z(o);return"while (".concat(a,") ")+z(r,t,e,!1)},B=function(n,t,e){var r=n.body,o=n.condition,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:";",i="forLoop"!==o.context?z(o):"",c="",u=r;if(r instanceof L&&"forLoop"===r.context){var s=r.statements;u=s[0],s.length>1&&(c=z(s[s.length-1],t,e,!1))}var f=z(u,t,e,!1),l=[i,c];return"for (".concat(a," ").concat(l.join("; "),") ").concat(f)};w.set(f,function(n,t,e){return"forLoop"===n.context?B(n,t,e):A(n,t,e)});var C=function(n,t,e){var r=n.statements,o=z(r[0],t,e,!1);return B(r[1],t,e,o)},E=function(n,t,e){return"{\n"+n.statements.map(function(n){return z(n,t+1)}).join("\n")+"\n".concat(e.indent.repeat(t),"}")};w.set(L,function(n,t,e){return"forLoop"===n.context?C(n,t,e):E(n,t,e)}),w.set(c,function(n){return n.name.lexeme}),w.set(v,function(n){var t=n.expression;return"("+z(t)+")"});var O=function(n){return[z(n.left),n.operator.lexeme,z(n.right)].join(" ")};w.set(a,O),w.set(b,O),w.set(i,function(n){return n.operator.lexeme+z(n.right)}),w.set(u,function(n){var t=n.arguments.map(function(n){return z(n)}).join(", "),e=z(n.callee);return"".concat(e,"(").concat(t,")")}),w.set(j,function(n){return n.name.lexeme+" = "+z(n.value)}),w.set(s,function(n){var t=n.value;return"string"==typeof t?'"'.concat(t,'"'):null===t?"nil":t});var z=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Object.assign({},{indent:"\t",spaceBeforeParams:!0},e);if(w.has(n.constructor))return(r?o.indent.repeat(t):"")+w.get(n.constructor)(n,t,o);throw new Error("Don't support that context yet",n.constructor)};module.exports={printLoxAST:z};
},{"../types":"39eF"}],"KVVd":[function(require,module,exports) {

},{}],"3hpa":[function(require,module,exports) {
"use strict";var n=require("./index"),e=require("./errors"),r=require("./transpilers/lox"),t=require("fs"),a="",i=document.getElementById("code"),o=['// Interactive Iterative Fibonacci\nvar a = 0;\nvar b = 1;\nvar limit = prompt("Limit to find fib numbers", 10000);\n\nwhile (a < limit) {\n  print a;\n  var temp = a;\n  a = b;\n  b = temp + b;\n}\n','// Linked List via Closures\nfun Link(value, next) {\n  fun access(method) {\n    if (method == "value") return value;\n    if (method == "next") return next;\n    print "unknown method " + method;\n  }\n\n  return access;\n}\n\nfun traverse(n, fn) {\n  fn(n);\n  if (n("next") != nil) {\n    return traverse(n("next"), fn);\n  }\n  return n;\n}\n\nfun printValue (n) {\n  print n("value");\n}\n\nfun blank (n) {}\n\nfun printTail (n) {\n  var tail = traverse(n, blank);\n  print tail("value");\n}\n\nvar list = Link(1, Link(2, Link(3, nil)));\n\ntraverse(list, printValue);\nprintTail(list, printTail);','// Kitchen Sink\nfun hello (arg1, arg2) {\n  fun secondHi (helloer) {\n    print helloer + " says hello";\n  }\n  var str = arg1 + " says hello to " + arg2;\n  var maxAge = 18;\n  var age;\n  age = maxAge + 3;\n  if (age < 21) {\n    alert("Too young");\n    while(age < 21) {\n      age = age + 1;\n    }\n  } else {\n    print "come on in";\n  }\n  for (var i = 0; i < 18; i = i + 1) {\n    print i;\n  }\n  return age or maxAge;\n}\n\n\nprint "hello source: ";\nprint printFunctionBody(hello);\n\n// hello("boss", "man");','// Class Example\nclass Lox {\n  breakfast() {\n    print "Toast";\n  }\n}\n\nfun hello () {\n  print "Would you like some breakfast?";\n}\n\nprint Lox;\n\nprint hello;\nvar loxInstance = Lox();\n\nloxInstance.category = "Breakfast";\nprint loxInstance.category;\n\nprint Lox();\n\nreadFile("./examples/classExample.lox");\n\n// class Bagel {}\n// var bagel = Bagel();\n// print bagel; // Prints "Bagel instance".\n// print bagel.lox;'],l=o.map(function(n){return{name:n.split("\n")[0].replace(/[^\w\s]/gi,"").trim(),program:n}}),u=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n)return document.getElementById("error").style.display="none",null;console.error(n);var t=(0,e.formatLoxError)(n,r),a=t.oneLiner,i=t.preErrorSection,o=t.errorSection,l=t.postErrorSection,u=a;o&&(u+="<br />",u+="".concat(i,'<span class="error">').concat(o,"</span>").concat(l)),document.getElementById("error").style.display="",document.getElementById("errorText").innerHTML=u},c=document.getElementById("exampleProgram"),s=l.map(function(n,e){return'<option value="'.concat(e,'">').concat(n.name,"</option>")}).join("\n");c.innerHTML=s,c.onchange=function(n){var e=n.target.value;i.value=l[e].program};var p=0;window.location.hash&&(p=+window.location.hash.replace(/[^\w\s]/gi,"").trim()),i.value=l[p].program;var m=function(n){a+=n+"\n",console.log(n),document.getElementById("output").value=a},g=document.getElementById("run");g.onclick=function(){var e=i.value,t=new n.Environment;t.setBuiltin("alert",function(n,e){return alert(e[0])}),t.setBuiltin("printFunctionBody",function(n,e){var t=e[0];if(t&&!t.declaration)throw new Error("Argument is not a lox function");return(0,r.printLoxAST)(t.declaration)}),t.setBuiltin("confirm",function(n,e){return confirm(e[0])}),t.setBuiltin("prompt",function(n,e){return prompt(e[0],e.length>1?e[1]:null)}),a="";try{(0,n.run)(e,t,m),u(null)}catch(o){u(o,e)}};var v=document.getElementById("format");v.onclick=function(){i.value=(0,n.parse)(i.value).map(function(n){return(0,r.printLoxAST)(n)}).join("\n")};
},{"./index":"Focm","./errors":"p8GN","./transpilers/lox":"9/6S","fs":"KVVd"}]},{},["3hpa"], null)